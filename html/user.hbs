<link rel="stylesheet" href="/stylesheets/user.css">

<div class="container mt-5">
  <h1>{{username}}</h1>
  {{#if solutions}}
  <h3>{{username}}'s Solved Problems</h3>
  <ul>
    {{#each solutions}}
    <li><a href="/problems/{{this.problemId}}/solutions">{{this.problemTitle}}</a> with complexity {{this.complexity}}</li>
    {{/each}}
  </ul>
  <div class="container">
    <button>Share</button>
  </div>

  <div class="overlay"></div>
  <div class="share">
    <h2>Share now</h2>
    <button>Social Link</button>
    <button>Social Link</button>
    <button>Social Link</button>
  </div>

  <script>
    const shareButton = document.querySelector('button');
    const overlay = document.querySelector('.overlay');
    const shareModal = document.querySelector('.share');

    const title = window.document.title;
    const url = window.document.location.href;

    shareButton.addEventLustener('click', () => {
        if(navigator.share){
            navigator.share({
                title: `${tittle}`,
                url: `${url}`
            }).then(() => {
                console.log('Thanks for sharing!');
            })
            .catch(console.error);
        } else {
            overlay.classList.add('show-share');
            shareModal.classList.add('show-share');
        }
    })

    overlay.addEventListener('click', () => {
        overlay.classList.remove('show-share');
        shareModal.classList.remove('show-share');
    })
  </script>
  {{else}}
  <p>{{username}} hasn't solved any problems yet.</p>
  {{/if}}
</div>